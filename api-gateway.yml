server:
  port: 8081
  
logging:
  pattern:
    console: '%d{iso8061} |%-5level |[%thread] %c{1}-%L %m %n'
    file: '%d{iso8061} |%-5level |[%thread] %c{1}-%L %m %n'
  file:
      name: logs/Api-Gateway.log
  
#Option 2: Chapter 5 - Another method is specifying a service-route and configuring a Ribbon client for the serviceId
zuul:
  ignored-headers: Access-Control-Allow-Credentials, Access-Control-Allow-Origin
  ribbon:
    eager-load:
      enabled: true
  routes:
    common-backend: '/api/**'
  retryable: true

hystrix:
  command:
    common-backend:
      execution:
        isolation:
          thread:
            timeoutInMilliseconds: 20000
    circuitBreaker:
      requestVolumeThreshold: 4
      errorThresholdPercentage: 50

common-backend:
  ribbon:
    ConnectTimeout: 1000
    ReadTimeout: 2000
    MaxTotalHttpConnections: 100
    MaxConnectionsPerHost: 100
    MaxAutoRetries: 0
    MaxAutoRetriesNextServer: 2
    ServerListRefreshInterval: 2000
    OkToRetryOnAllOperations: true
    retryableStatusCodes: 500,404

